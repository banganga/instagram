<div class="product-template page-width" data-section-id="product_{{ product.id }}" data-section-type="product-template">
  <header class="page-header">
    {% if section.settings.breadcrumbs %}
      {% include 'breadcrumb' %}
    {% else %}
      <h2 class="page-header__title">{{ product.title }}</h2>
    {% endif %}
  </header>

  {% if product.images.size > 1 %}
    <div class="product-images grid grid--full" id="product_{{ product.id }}_images">
      <div class="product-images__thumbs grid__item one-fifth">
        <ul class="no-bullets js-product-thumbs">
          {% for image in product.images %}
            <li>
              <div class="thumb-overlay">
                <img src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}">
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
      <div class="product-images__image grid__item four-fifths">
        <ul class="no-bullets js-product-image">
          {% for image in product.images %}
            <li>
              <img src="{{ image.src | img_url: 'large' }}" alt="{{ image.alt | escape }}" data-original="{{ image.src | img_url: 'original' }}">
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  {% else %}
    <div class="product-images product-images--single grid grid--full" id="product_{{ product.id }}_images">
      <div class="product-images__image grid__item one-whole">
        {% assign featured_image = current_variant.featured_image | default: product.featured_image %}
        <img src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}" data-original="{{ featured_image | img_url: 'original' }}">
      </div>
    </div>
  {% endif %}

  <div class="product-info">
    <div class="product-info__price">
      {%- assign money_price = product.price | money -%}
      {% if product.compare_at_price > product.price %}
        {%- assign discount_percent = product.compare_at_price | minus: product.price | times: 100.0 | divided_by: product.compare_at_price | round -%}
        <s class="product-price__old">{{ product.compare_at_price | money }}</s>
        <span class="product-price__percent">-{{ discount_percent }}%</span> <br>
        <span class="product-price__price product-price__sale">{{ money_price }}</span>
      {% else %}
        <span class="product-price__price">{{ money_price }}</span>
      {% endif %}

      {% unless product.available %}
        <span class="product-price__sold-out">{{ 'products.product.sold_out' | t }}</span>
      {% endunless %}
    </div>
    <h3>{{ product.title }}</h3>
  </div>

  <div class="product-description rte" itemprop="description">
    {{ product.description }}
  </div>

</div>

{% unless product.empty? %}
  <script type="application/json" id="ProductJson-product_{{ product.id }}">
    {{ product | json }}
  </script>
{% endunless %}

{% schema %}
  {
    "name": "Product page",
    "settings": [
      {
        "type": "checkbox",
        "id": "breadcrumbs",
        "label": "Display breadcrumbs",
        "default": true
      }
    ]
  }
{% endschema %}
